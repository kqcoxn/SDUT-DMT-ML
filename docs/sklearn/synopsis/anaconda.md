# Anaconda ç¯å¢ƒæ­å»º

åœ¨æœ¬èŠ‚ï¼Œæˆ‘ä»¬å°†ä»å¸è½½ Python å¼€å§‹ï¼Œä¸€æ­¥æ­¥åœ°æ­å»ºå®Œæ•´çš„æœºå™¨å­¦ä¹ ç¯å¢ƒã€‚

å¯¹äºæ‰€æœ‰çš„å®‰è£…åŒ…ï¼Œå¯ä»¥ä½¿ç”¨[ç½‘ç›˜](https://www.123pan.com/s/7vwRjv-lRpxv.html)ä¸‹è½½

## å…³äº Anaconda

å¯¹äº Anacondaï¼Œæˆ‘ä»¬åœ¨ä¸Šä¸€èŠ‚çš„å¼€å¤´å·²ç»åˆ†æäº†ä»–çš„åˆ©å¼Šã€‚å¦‚æœåªçœ‹ä»–çš„å¥½å¤„ï¼ŒAnaconda æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å¼€æºæ•°æ®ç§‘å­¦å¹³å°,å®ƒå°†å¾ˆå¤šå¥½çš„å·¥å…·æ•´åˆåœ¨ä¸€èµ·ï¼Œæå¤§åœ°ç®€åŒ–äº†ä½¿ç”¨è€…çš„å·¥ä½œæµç¨‹ï¼Œå¹¶èƒ½å¤Ÿå¸®åŠ©ä½¿ç”¨è€…è§£å†³ä¸€ç³»åˆ—æ•°æ®ç§‘å­¦éš¾é¢˜ã€‚

å¦‚æœä½ å·²ç»å†³å®šä½¿ç”¨ Anacondaï¼ˆå¦‚æœä½ ä¹‹å‰æ²¡æœ‰ç”¨è¿‡ Pythonï¼Œç›´æ¥ä¸Šæ‰‹ Anaconda ä¼šå¤±å»ç»ƒä¹ è°ƒè¯• Python çš„æœºä¼šï¼Œä¸è¿‡å…¶å®ä¸ä¼šè°ƒè¯•ä¹Ÿé—®é¢˜ä¸å¤§ï¼‰ï¼Œé‚£ä¹ˆä¸‹é¢æˆ‘ä»¬å°±å¼€å§‹å®‰è£… Anacondaã€‚

## è§†é¢‘æ•™ç¨‹ï¼ˆå®Œæ•´æµç¨‹ï¼‰

> æœ¬æ•™ç¨‹å·²ç»ç›¸å½“åŸºç¡€ï¼Œç›´æ¥è·Ÿç€æ­¥éª¤å¤åˆ¶ä»£ç å³å¯ã€‚å¦‚æœä½ å¯¹äºæ–‡æ¡£ç±»æ•™ç¨‹ä¸ç”šæ•æ„Ÿï¼Œå¯ä»¥å‚è€ƒä¸‹é¢çš„è§†é¢‘æ•™ç¨‹ï¼ˆä»£ç ä¸æ–‡æ¡£ä¸€è‡´ï¼Œå¯ä»¥åœ¨æœ¬é¡µä»£ç å—ä¸­ç›´æ¥å¤åˆ¶ç²˜è´´ï¼‰ã€‚

<div v-if="!isShow" style="width:100%; display: flex; flex-direction: column; justify-content: center; align-items: center;">
    <img src="/loading.gif" style="width:200px;"/>
    <p style="font-size: 20px;">è§†é¢‘ç»èµåŠ è½½ä¸­ğŸ˜‹...</p>
</div>
<video v-show="isShow" controls="controls" src="../videos/env_anaconda.mp4" @canplay="isShow = true"></video>

<script setup>
    import { ref } from 'vue'
    const isShow = ref(false)
</script>

## å¸è½½ Python

> å¦‚æœä½ ä»æœªå®‰è£…è¿‡ Pythonï¼Œè¯·å¿½ç•¥è¿™ä¸€æ­¥ã€‚

Anaconda çš„å®‰è£…åˆ†ä¸¤ç§æƒ…å†µï¼š

- æƒ…å†µä¸€ï¼šç”µè„‘ç°åœ¨æ²¡æœ‰è£… python æˆ–è€…ç°åœ¨è£…çš„å¯ä»¥å¸è½½æ‰ï¼ˆè£… Anaconda æ—¶å…ˆå¸ pythonï¼‰
- æƒ…å†µäºŒï¼š ç”µè„‘ç›®å‰è£…äº† pythonï¼Œä½†æƒ³ä¿ç•™å®ƒ (æ¯”è¾ƒå¤æ‚ï¼Œè¯·å‚è€ƒç½‘ä¸Šå…¶ä»–æ•™ç¨‹)

å¦‚æœæ˜¯æƒ…å†µäºŒï¼Œæˆ‘å¼ºçƒˆå»ºè®®æŠŠä½ çš„æƒ…å†µæ”¹æˆæƒ…å†µä¸€ï¼

### éªŒè¯æ˜¯å¦å®‰è£…äº† Python

åœ¨å¼€å§‹å®‰è£… Anaconda ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆç¡®è®¤ç”µè„‘ä¸Šæ˜¯å¦å·²ç»å®‰è£…äº† Pythonã€‚

æ‰“å¼€å‘½ä»¤æç¤ºç¬¦ï¼ˆWindowsï¼ŒæŒ‰ä¸‹ `Win+R` æ‰“å¼€è¿è¡Œæ¡†ï¼Œè¾“å…¥ `cmd`ï¼‰æˆ–ç»ˆç«¯ï¼ˆMac/Linuxï¼‰ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š

```shell
python --version
```

å¦‚æœè¾“å‡º Python çš„ç‰ˆæœ¬å·ï¼Œè¯´æ˜ Python å·²ç»å®‰è£…ï¼Œæˆ‘ä»¬éœ€è¦å¸è½½å®ƒã€‚

### å¸è½½ Pythonï¼ˆè‹¥å·²å®‰è£…äº† Pythonï¼‰

- Windowsï¼šåœ¨å¼€å§‹èœå•ä¸­æœç´¢ `æ§åˆ¶é¢æ¿`ï¼Œç„¶åç‚¹å‡» `ç¨‹åº`ï¼Œç„¶åç‚¹å‡» `å¸è½½æˆ–æ›´æ”¹ç¨‹åº`ã€‚æ‰¾åˆ°ï¼ˆå¯ä»¥ç›´æ¥æœç´¢`python`ï¼‰å¹¶ç‚¹å‡» `Python 3.x`ï¼Œç„¶åç‚¹å‡» `å¸è½½`ã€‚
- Mac/Linuxï¼šæ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š

```shell
sudo apt-get remove python3
```

### åˆ é™¤ç¯å¢ƒå˜é‡ï¼ˆè‹¥å·²å®‰è£…äº† Pythonï¼‰

æŸ¥çœ‹ç”¨æˆ·è‡ªå·±è®¾ç½®çš„ç¯å¢ƒå˜é‡ï¼ˆä½¿ç”¨ windows è‡ªå¸¦çš„æœç´¢ï¼Œå…³é”®è¯ä¸ºâ€œç¯å¢ƒå˜é‡â€ï¼‰ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢é‚£ä¸€æ 

![](../images/synopsis/path.png)

æ‰¾åˆ° pathï¼ŒåŒå‡» path åé¢çš„å€¼ï¼Œè¿›å…¥æŸ¥çœ‹è‡ªå·±è®¾ç½®è¿‡çš„ç¯å¢ƒå˜é‡

![](../images/synopsis/path2.png)

å°†å®‰è£… python çš„å˜é‡å…¨éƒ¨åˆ é™¤ï¼Œå¦‚å›¾ä¸­ä¸¤ä¸ªå€¼ï¼Œéƒ½é€‰ä¸­ï¼Œç„¶åç‚¹å‡»åˆ é™¤ï¼Œå†ç¡®å®šï¼ˆå¦‚æœå¸è½½å®Œ python çš„æ—¶å€™ç¯å¢ƒå˜é‡è‡ªåŠ¨åˆ æ‰äº†å°±ä¸ç”¨ç®¡ï¼‰

![](../images/synopsis/path3.png)

åœ¨é€€å‡ºæ—¶ï¼Œä¸è¦å¿˜è®°å¤–é¢è¿˜æœ‰å‡ ä¸ªç¡®è®¤æŒ‰é’®ï¼Œä¹Ÿéœ€è¦ç‚¹å‡»ï¼Œä¸è¦ç›´æ¥å‰æ‰ï¼Œå¦åˆ™å¹¶æ²¡æœ‰ä¿å­˜è®¾ç½®ã€‚

## ä¸‹è½½ Anaconda å®‰è£…åŒ…

è¿›å…¥ [Anaconda å®˜ç½‘](https://www.anaconda.com/)ï¼Œæ³¨å†Œæˆ–ç™»å½•ï¼Œåœ¨ Hub ä¸­ç‚¹å‡» **Install Distribution**ï¼Œå¡«å†™ä¿¡æ¯åä¸‹è½½å³å¯ã€‚

å¦‚æœä½ çš„ç½‘ç»œæ— æ³•è®¿é—® Anaconda å®˜ç½‘æˆ–è€…ä¸‹è½½é€Ÿåº¦è¾ƒæ…¢ï¼Œå¯ä»¥ä» [æ¸…åå¤§å­¦å¼€æºè½¯ä»¶é•œåƒç«™](https://repo.anaconda.com/archive/) ä¸‹è½½ã€‚

æˆ–è€…ï¼Œç›´æ¥ä½¿ç”¨æœ¬æ–‡æ¡£æä¾›çš„[ç½‘ç›˜](https://www.123pan.com/s/7vwRjv-lRpxv.html)ä¸‹è½½ã€‚

åœ¨ç‰ˆæœ¬æ–¹é¢ï¼Œå¯ä»¥ä½¿ç”¨æœ€æ–°ç‰ˆï¼Œä½†ç½‘ä¸Šé£è¯„æ¯”è¾ƒå¥½çš„æ˜¯ 22 ç‰ˆï¼Œä¸è¿‡ç”¨èµ·æ¥å…¶å®å·®è·ä¸å¤§ã€‚

## å®‰è£… Anaconda

> åœ¨ Anaconda å®‰è£…çš„è¿‡ç¨‹ä¸­ï¼Œæ¯”è¾ƒå®¹æ˜“å‡ºé”™çš„ç¯èŠ‚æ˜¯ç¯å¢ƒå˜é‡çš„é…ç½®ï¼Œæ‰€ä»¥å¤§å®¶åœ¨é…ç½®ç¯å¢ƒå˜é‡çš„æ—¶å€™ï¼Œè¦ç»†å¿ƒä¸€äº›ã€‚

åŒå‡»ä¸‹è½½å¥½çš„å®‰è£…åŒ…ï¼Œç‚¹å‡» **Next**ï¼Œç‚¹å‡» **I Agree**ï¼Œé€‰æ‹© **Just Me**ï¼Œé€‰æ‹©å®‰è£…è·¯ç»ï¼ˆå®‰è£…åœ¨ C ç›˜ä¹Ÿæœ‰å¥½å¤„ï¼Œä¸è¿‡ä¸ C ç›˜çˆ†ç‚¸æ¥è¯´ä¸å€¼ä¸€æï¼Œå»ºè®®æŒ‰åœ¨å…¶ä»–ç›˜ï¼‰ç„¶å Nextï¼Œæ¥åˆ°å¦‚ä¸‹ç•Œé¢ï¼š

![](../images/synopsis/install.png)

è¯·é€‰æ‹© **Register Anaconda as my default Python 3.x**ï¼Œä¸è¦é€‰ Add Anaconda to my PATH environment variableï¼Œæˆ‘ä»¬éœ€è¦åæœŸæ‰‹åŠ¨æ·»åŠ ç¯å¢ƒå˜é‡ã€‚

ç‚¹å‡» Installï¼Œå®‰è£…éœ€è¦ç­‰å¾…ä¸€ä¼šå„¿ã€‚

æœ€åä¸€ç›´ Nextï¼Œç›´åˆ°å®‰è£…å®Œæˆã€‚

å¯¹äºä¸¤ä¸ªâ€œlearnâ€ï¼Œéƒ½å–æ¶ˆæ‰“å‹¾ï¼Œä¸ç”¨æ‰“å¼€å»çœ‹äº†ï¼Œè€½è¯¯æ—¶é—´ã€‚

![](../images/synopsis/install2.png)

å®‰è£…å¥½åæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨é…ç½®ç¯å¢ƒå˜é‡ã€‚

## é…ç½®ç¯å¢ƒå˜é‡

è®¡ç®—æœºï¼ˆå³é”®ï¼‰â†’ å±æ€§ â†’ é«˜çº§ç³»ç»Ÿè®¾ç½® â†’ï¼ˆç‚¹å‡»ï¼‰ç¯å¢ƒå˜é‡

åœ¨ä¸‹é¢ç³»ç»Ÿå˜é‡é‡Œï¼Œæ‰¾åˆ°å¹¶ç‚¹å‡» Path

![](../images/synopsis/install4.png)

åœ¨ç¼–è¾‘ç¯å¢ƒå˜é‡é‡Œï¼Œç‚¹å‡»æ–°å»º

![](../images/synopsis/install3.png)

è¾“å…¥ä¸‹é¢çš„äº”ä¸ªç¯å¢ƒå˜é‡ã€‚ï¼ˆ**è¿™é‡Œä¸æ˜¯å®Œå…¨ä¸€æ ·çš„ï¼ä½ éœ€è¦å°†ä»¥ä¸‹äº”æ¡ç¯å¢ƒå˜é‡ä¸­æ¶‰åŠçš„åˆ°çš„"D:\\\_Producers\Anaconda3"éƒ½ä¿®æ”¹ä¸ºä½ çš„ Anaconda çš„å®‰è£…è·¯å¾„ï¼**ï¼‰

```
D:\_Producers\Anaconda3
D:\_Producers\Anaconda3\Scripts
D:\_Producers\Anaconda3\Library\bin
D:\_Producers\Anaconda3\Library\mingw-w64\bin
D:\_Producers\Anaconda3\Library\usr\bin
```

> ç®€è¦è¯´æ˜äº”æ¡è·¯å¾„çš„ç”¨é€”ï¼šè¿™äº”ä¸ªç¯å¢ƒå˜é‡ä¸­ï¼Œ1 æ˜¯ Python éœ€è¦ï¼Œ2 æ˜¯ conda è‡ªå¸¦è„šæœ¬ï¼Œ3 æ˜¯ jupyter notebook åŠ¨æ€åº“, 4 æ˜¯ä½¿ç”¨ C with python çš„æ—¶å€™

æ–°å»ºå®Œæˆåç‚¹å‡»ç¡®å®šã€‚

## éªŒè¯

æ‰“å¼€ cmdï¼Œåœ¨å¼¹å‡ºçš„å‘½ä»¤è¡ŒæŸ¥çœ‹ anaconda ç‰ˆæœ¬ï¼Œä¾æ¬¡è¾“å…¥ ï¼š

```shell
conda --version
python --version
```

è‹¥å„è‡ªå‡ºç°ç‰ˆæœ¬å·ï¼Œå³ä»£è¡¨é…ç½®æˆåŠŸã€‚

åœ¨å¼€å§‹èœå•æˆ–æ¡Œé¢æ‰¾åˆ° **Anaconda Navifator** å°†å…¶æ‰“å¼€ï¼ˆè‹¥æ¡Œé¢æ²¡æœ‰å¯ä»¥å‘ä¸€ä»½åˆ°æ¡Œé¢ï¼Œæ–¹ä¾¿åç»­ä½¿ç”¨ï¼‰ï¼Œå‡ºç° GUI ç•Œé¢å³ä¸ºå®‰è£…æˆåŠŸã€‚

## æ›´æ”¹ conda æº

å¦‚æœä½ æ²¡æœ‰é­”æ³•ä¸Šç½‘å·¥å…·ï¼Œå»ºè®®æ›´æ”¹ conda æºï¼Œè¿™æ ·å¯ä»¥åŠ å¿«ä¸‹è½½åŒ…çš„é€Ÿåº¦ã€‚æ¸…åå¤§å­¦æä¾›äº† Anaconda çš„é•œåƒä»“åº“ï¼Œæˆ‘ä»¬æŠŠæºæ”¹ä¸ºæ¸…åå¤§å­¦é•œåƒæºã€‚

æ‰¾åˆ° Anaconda promptï¼Œæ‰“å¼€ shell é¢æ¿ã€‚

![](../images/synopsis/conda.png)

åœ¨å‘½ä»¤è¡Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š

```shell
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/msys2/
conda config --set show_channel_urls yes
```

æŸ¥çœ‹æ˜¯å¦ä¿®æ”¹å¥½é€šé“ï¼š

```shell
conda config --show channels
```

## å®‰è£… Python åº“

Anaconda è‡ªå¸¦äº†ä¸€äº›å¸¸ç”¨çš„æœºå™¨å­¦ä¹ åº“ï¼Œå¦‚ numpyã€pandasã€matplotlibã€seabornã€scikit-learn ç­‰ã€‚

å¦‚æœéœ€è¦å®‰è£…å…¶ä»–åº“ï¼Œå¯ä»¥ç›´æ¥åœ¨ Anaconda Navigator é‡Œæœç´¢å®‰è£…ã€‚

## Hello, sklearn!

è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»åœ¨æœ¬åœ°é…ç½®å¥½äº† sklearn çš„è¿è¡Œç¯å¢ƒï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªéå¸¸ç®€å•çš„ä¾‹å­æ¥æµ‹è¯•ä¸€ä¸‹ã€‚

æ–°å»º Python æ–‡ä»¶ï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç å¹¶è¿è¡Œï¼š

```python
from sklearn.datasets import load_iris
from sklearn.model_selection import train_test_split, GridSearchCV
from sklearn.preprocessing import StandardScaler
from sklearn.neighbors import KNeighborsClassifier

# 1.è·å–æ•°æ®
iris = load_iris()

# 2.æ•°æ®åŸºæœ¬å¤„ç†
x_train, x_test, y_train, y_test = train_test_split(iris.data, iris.target, test_size=0.2, random_state=22)

# 3.ç‰¹å¾å·¥ç¨‹ - ç‰¹å¾é¢„å¤„ç†
transfer = StandardScaler()
x_train = transfer.fit_transform(x_train)
x_test = transfer.transform(x_test)

# 4.æœºå™¨å­¦ä¹ -KNN
# 4.1 å®ä¾‹åŒ–ä¸€ä¸ªä¼°è®¡å™¨
estimator = KNeighborsClassifier()
# 4.2 æ¨¡å‹è°ƒä¼˜ -- äº¤å‰éªŒè¯,ç½‘æ ¼æœç´¢
param_grid = {"n_neighbors": [1, 3, 5, 7]}
estimator = GridSearchCV(estimator, param_grid=param_grid, cv=5)
# 4.3 æ¨¡å‹è®­ç»ƒ
estimator.fit(x_train, y_train)

# 5.æ¨¡å‹è¯„ä¼°
# 5.1 é¢„æµ‹å€¼ç»“æœè¾“å‡º
y_pre = estimator.predict(x_test)
print("é¢„æµ‹å€¼æ˜¯:\n", y_pre)
print("é¢„æµ‹å€¼å’ŒçœŸå®å€¼çš„å¯¹æ¯”æ˜¯:\n", y_pre == y_test)
# 5.2 å‡†ç¡®ç‡è®¡ç®—
score = estimator.score(x_test, y_test)
print("å‡†ç¡®ç‡ä¸º:\n", score)
# 5.3 æŸ¥çœ‹äº¤å‰éªŒè¯,ç½‘æ ¼æœç´¢çš„ä¸€äº›å±æ€§
print("åœ¨äº¤å‰éªŒè¯ä¸­,å¾—åˆ°çš„æœ€å¥½ç»“æœæ˜¯:\n", estimator.best_score_)
print("åœ¨äº¤å‰éªŒè¯ä¸­,å¾—åˆ°çš„æœ€å¥½çš„æ¨¡å‹æ˜¯:\n", estimator.best_estimator_)
print("åœ¨äº¤å‰éªŒè¯ä¸­,å¾—åˆ°çš„æ¨¡å‹ç»“æœæ˜¯:\n", estimator.cv_results_)

print("Hello, sklearn!")
```

è¿è¡Œåä¾¿å¯ä»¥çœ‹åˆ°ç›¸åº”çš„ç»“æœï¼Œå…·ä½“çš„ä½¿ç”¨æ–¹æ³•ä¸æˆ‘ä»¬ä¼šåœ¨åç»­å†…å®¹ä¸­è¯¦ç»†ä»‹ç»ã€‚

## \[é€‰è¯»\]å¸¸ç”¨çš„å‘½ä»¤

åœ¨æ²¡æœ‰ GUI çš„æƒ…å†µä¸‹ï¼Œä»¥ä¸‹å‘½ä»¤æ¯”è¾ƒå¸¸ç”¨ï¼š

1.æŸ¥çœ‹å½“å‰ç¯å¢ƒä¸‹å®‰è£…çš„åº“ï¼š

```shell
conda list
```

2.æŸ¥çœ‹æ‰€æœ‰ç¯å¢ƒï¼š

```shell
conda info --envs
```

3.åˆ›å»ºæ–°çš„ç¯å¢ƒï¼š

```shell
conda create -n ç¯å¢ƒåç§° python=ç‰ˆæœ¬å·
```

4.æ¿€æ´»ç¯å¢ƒï¼š

```shell
conda activate ç¯å¢ƒåç§°
```

5.é€€å‡ºç¯å¢ƒï¼š

```shell
conda deactivate
```

6.åˆ é™¤ç¯å¢ƒï¼š

```shell
conda remove -n ç¯å¢ƒåç§° --all
```

7.å¯¼å‡ºç¯å¢ƒï¼š

```shell
conda env export > environment.yaml
```

8.å¯¼å…¥ç¯å¢ƒï¼š

```shell
conda env create -f environment.yaml
```

9.åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„åŒ…ï¼š

```shell
conda search åŒ…å
```

10.å®‰è£…åŒ…ï¼š

```shell
conda install åŒ…å
```

11.æ›´æ–°åŒ…ï¼š

```shell
conda update åŒ…å
```

12.å¸è½½åŒ…ï¼š

```shell
conda uninstall åŒ…å
```
